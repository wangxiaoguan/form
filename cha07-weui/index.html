<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    <title>WEUI</title>
    <link rel="stylesheet" type="text/css" href="css/style.css" />
    <link rel="stylesheet" type="text/css" href="css/weui.css" />
</head>

<body>
    <div id="app">
        <div class="box content1">1.时间框</div>
        <div class="box content2">2.单列选择器</div>
        <div class="box content3">3.多列选择器</div>
        <div class="box content4">4.顶部报错提示框</div>
        <div class="box content5">5.成功框</div>
        <div class="box content6">6.加载框</div>
        <div class="box content7">7.底部选择框</div>
        <div class="box content8">8.Alert弹框</div>
        <div class="box content9">9.Confirm弹窗</div>
        <div class="box content10">10.Dialog弹窗</div>
        <div class="box content11">11.图片预览删除框</div>
        <div class="box content12">12.滑块</div>
        <div class="weui-slider-box">
            <div id="slider" class="weui-slider">
                <div class="weui-slider__inner">
                    <div class="weui-slider__track"></div>
                    <div class="weui-slider__handler"></div>
                </div>
            </div>
            <div id="sliderValue" class="weui-slider-box__value"></div>
        </div>
        <div class="box content13">13.搜索框</div>
        <div class="weui-search-bar" id="searchBar">
            <form class="weui-search-bar__form">
                <div class="weui-search-bar__box">
                    <i class="weui-icon-search"></i>
                    <input type="search" class="weui-search-bar__input" placeholder="搜索" required="">
                    <a href="javascript:" class="weui-icon-clear"></a>
                </div>
                <label class="weui-search-bar__label">
                    <i class="weui-icon-search"></i>
                    <span>搜索</span>
                </label>
            </form>
            <a href="javascript:" class="weui-search-bar__cancel-btn">取消</a>
        </div>
        <div class="box content14">14.tab导航栏</div>
        <div class="weui-tab" id="tab">
            <div class="weui-navbar">
                <div class="weui-navbar__item">Tab页1</div>
                <div class="weui-navbar__item">Tab页2</div>
                <div class="weui-navbar__item">Tab页3</div>
                <div class="weui-navbar__item">Tab页4</div>
            </div>
            <div class="weui-tab__panel">
                <div class="weui-tab__content">Tab页1-内容1</div>
                <div class="weui-tab__content">Tab页2-内容2</div>
                <div class="weui-tab__content">Tab页3-内容3</div>
                <div class="weui-tab__content">Tab页4-内容4</div>
            </div>
        </div>


    </div>
</body>
<script src="js/jquery.js"></script>
<script src="js/zepto.js"></script>
<script src="js/data.js"></script>
<script src="js/weui.mini.js"></script>
<script>
$(document).ready(function(){

    weui.tab('#tab',{
        defaultIndex: 0,
        onChange: function(index){
            console.log(index);
        }
    });

    $(".content1").click(()=>{
        weui.datePicker({
            start: 1990,
            end: 2099,
            // format: 'YYYY-MM-DD',
            // end: new Date().getFullYear(),
            defaultValue: [new Date().getFullYear(), new Date().getMonth()+1, new Date().getDate()],
            depth:3,
            onChange: function (e) {
                console.log(e);
                
            },
            onConfirm: function (e) {
                console.log(e);
                $("#date").val(`${e[0].value}-${e[1].value}-${e[2].value}`)
            }
        });
    });

    $(".content2").click(()=>{
        weui.picker([{
                label: '男',
                value: 0
            }, {
                label: '女',
                value: 1
            }], {
                onChange: function (e) {
                    console.log(e);
                },
                onConfirm: function (e) {
                    console.log(e);
                    $("#sex").val(e[0].label)
                }
        });
    })

    $(".content3").click(()=>{
        weui.picker(chinaCityList, 
            {
                defaultValue: ['110000','110100','110101'],
                onChange: function (e) {
                    console.log(e);
                },
                onConfirm: function (e) {
                    console.log(e);                  
                }
            }
        );
    })

    $(".content4").click(()=>{
        weui.topTips('请填写正确的字段', 1000);
    })

    $(".content5").click(()=>{
        weui.toast('操作成功', 1000);
    })

    $(".content6").click(()=>{
        let loading = weui.loading('loading');
        setTimeout(()=>{
            loading.hide();
        },1000)
    })
    $(".content7").click(()=>{
        weui.actionSheet(
        [
            {
                label: '拍照',
                onClick: function () {
                    console.log('拍照');
                }
            }, {
                label: '从相册选择',
                onClick: function () {
                    console.log('从相册选择');
                }
            }, {
                label: '其他',
                onClick: function () {
                    console.log('其他');
                }
            }
        ],
        [
            {
                label: '取消',
                onClick: function () {
                    console.log('取消');
                }
            }
        ], {
            className: 'content9',
            onClose: function(){
                console.log('关闭');
            }
        });
    })

    $(".content8").click(()=>{
        weui.alert('自定义按钮的alert', {
            title: '自定义按钮的alert',
            buttons: [{
                label: 'OK',
                type: 'primary',
                onClick: function(){ console.log('ok') }
            }]
        });
    })

    $(".content9").click(()=>{
        weui.confirm('自定义按钮的confirm', {
            title: '自定义按钮的confirm',
            buttons: [{
                label: '取消',
                type: 'default',
                onClick: function(){ console.log('no') }
            }, {
                label: '确定',
                type: 'primary',
                onClick: function(){ console.log('yes') }
            }]
        });
    })

    $(".content10").click(()=>{
        weui.dialog({
            title: 'dialog标题',
            content: 'dialog内容',
            // className: 'custom-classname',
            buttons: [{
                label: '取消',
                type: 'default',
                onClick: function () {  }
            }, {
                label: '确定',
                type: 'primary',
                onClick: function () {  }
            }]
        });
    })

    $(".content11").click(()=>{
        let gallery = weui.gallery('http://wanghg.top/img/img5.jpg', {
            className: 'custom-classname',
            onDelete: function(){
                gallery.hide(function() {
                    console.log('删除该图片');
                });
            }
        });
    })



 
    weui.searchBar('#searchBar');

    weui.slider('#slider', {
        step: 0.01,
        defaultValue: 40,
        onChange: function(percent){
            console.log(percent);
        }
    });


});
</script>
</html>
